<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Product - EcoFinds</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/product.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="header-left">
                    <img src="images/logo.png" alt="EcoFinds" class="logo">
                    <h1>EcoFinds</h1>
                </div>
                
                <nav class="nav-links">
                    <a href="dashboard.html" class="nav-link">Browse</a>
                    <a href="my-listings.html" class="nav-link">My Listings</a>
                    <a href="cart.html" class="nav-link">
                        Cart <span id="cartCount" class="cart-count">0</span>
                    </a>
                    <a href="previous-purchases.html" class="nav-link">Orders</a>
                    <a href="user-profile.html" class="nav-link">Profile</a>
                    <button onclick="signOut()" class="btn btn-secondary btn-small">Logout</button>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Breadcrumb -->
            <nav class="breadcrumb">
                <a href="dashboard.html">Dashboard</a>
                <span class="separator">></span>
                <span class="current">Add Product</span>
            </nav>

            <!-- Page Header -->
            <section class="page-header">
                <h2>Add New Product</h2>
                <p>Share your pre-loved items with the EcoFinds community</p>
            </section>

            <!-- Add Product Form -->
            <section class="form-section">
                <div class="form-container">
                    <form id="addProductForm" class="product-form">
                        <div class="form-grid">
                            <!-- Left Column - Product Details -->
                            <div class="form-column">
                                <h3>Product Details</h3>
                                
                                <div class="input-group">
                                    <label for="productTitle">Product Title *</label>
                                    <input type="text" id="productTitle" required 
                                           placeholder="Enter a descriptive title for your product">
                                    <small class="input-help">Be specific and descriptive (e.g., "iPhone 12 Pro Max 128GB Space Gray")</small>
                                </div>

                                <div class="input-group">
                                    <label for="productCategory">Category *</label>
                                    <select id="productCategory" required>
                                        <option value="">Select a category</option>
                                        <!-- Categories will be populated by JavaScript -->
                                    </select>
                                </div>

                                <div class="input-group">
                                    <label for="productDescription">Description *</label>
                                    <textarea id="productDescription" required 
                                              placeholder="Describe your product's condition, features, and any important details..."
                                              rows="6"></textarea>
                                    <small class="input-help">Include condition, age, any defects, and why you're selling</small>
                                </div>

                                <div class="input-group">
                                    <label for="productPrice">Price (USD) *</label>
                                    <div class="price-input">
                                        <span class="currency">$</span>
                                        <input type="number" id="productPrice" required 
                                               min="0" step="0.01" placeholder="0.00">
                                    </div>
                                    <small class="input-help">Set a fair price based on the item's condition</small>
                                </div>

                                <div class="input-group">
                                    <label for="productCondition">Condition</label>
                                    <select id="productCondition">
                                        <option value="">Select condition</option>
                                        <option value="Like New">Like New</option>
                                        <option value="Excellent">Excellent</option>
                                        <option value="Good">Good</option>
                                        <option value="Fair">Fair</option>
                                        <option value="Poor">Poor</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Right Column - Images and Additional Info -->
                            <div class="form-column">
                                <h3>Product Images</h3>
                                
                                <div class="input-group">
                                    <label for="productImage">Product Image</label>
                                    <div class="image-upload-area" id="imageUploadArea">
                                        <div class="upload-placeholder">
                                            <div class="upload-icon">ðŸ“·</div>
                                            <p>Click to upload or drag & drop</p>
                                            <small>Supported: JPG, PNG, WebP (Max 5MB)</small>
                                        </div>
                                        <input type="file" id="productImage" accept="image/*" hidden>
                                    </div>
                                    <div class="image-preview hidden" id="imagePreview">
                                        <img id="previewImg" src="" alt="Preview">
                                        <button type="button" class="remove-image" id="removeImage">Ã—</button>
                                    </div>
                                </div>

                                <div class="input-group">
                                    <label for="productTags">Tags (Optional)</label>
                                    <input type="text" id="productTags" 
                                           placeholder="e.g., vintage, designer, handmade">
                                    <small class="input-help">Separate tags with commas to help buyers find your item</small>
                                </div>

                                <div class="input-group">
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="acceptTerms" required>
                                        <label for="acceptTerms">
                                            I confirm this item belongs to me and I agree to EcoFinds' 
                                            <a href="#" class="terms-link">Terms of Service</a>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Form Actions -->
                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" onclick="window.history.back()">
                                Cancel
                            </button>
                            <button type="submit" class="btn btn-primary">
                                <span class="btn-text">List Product</span>
                                <span class="btn-loading hidden">
                                    <span class="spinner-small"></span>
                                    Uploading...
                                </span>
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Tips Section -->
                <aside class="tips-section">
                    <div class="tips-card">
                        <h4>ðŸ’¡ Tips for a Great Listing</h4>
                        <ul class="tips-list">
                            <li>Use clear, well-lit photos from multiple angles</li>
                            <li>Be honest about the item's condition</li>
                            <li>Include brand, model, and size information</li>
                            <li>Research similar items to price competitively</li>
                            <li>Respond promptly to buyer questions</li>
                        </ul>
                    </div>
                    
                    <div class="tips-card">
                        <h4>ðŸŒ± Sustainability Impact</h4>
                        <p>By selling your pre-owned items, you're:</p>
                        <ul class="tips-list">
                            <li>Reducing waste in landfills</li>
                            <li>Extending product lifecycles</li>
                            <li>Helping others save money</li>
                            <li>Supporting the circular economy</li>
                        </ul>
                    </div>
                </aside>
            </section>
        </div>
    </main>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="spinner"></div>
        <p>Uploading your product...</p>
    </div>

    <!-- Message Container -->
    <div id="messageContainer" class="message-container hidden">
        <div class="message" id="messageContent"></div>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>

    <!-- Custom Scripts -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/product.js"></script>
</body>
</html>